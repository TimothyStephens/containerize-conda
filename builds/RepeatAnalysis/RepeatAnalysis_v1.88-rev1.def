Bootstrap: docker
From: dfam/tetools:1.88

%environment
  export LC_ALL=C
  export NUMBA_CACHE_DIR=/tmp/numba_cache

%labels
  Program RepeatAnalysis
  ProgramVersion v1.88
  ContainerVersion 1
  Website https://github.com/Dfam-consortium/TETools

%help

########################################
#### RepeatAnalysis (TETools) v1.88 ####
########################################

RepeatAnalysis (Dfam TE Tools) includes RepeatMasker, RepeatModeler, and coseg.

The following software is included in the RepeatAnalysis (Dfam TE Tools) container v1.88:

RepeatModeler   2.0.5   http://www.repeatmasker.org/RepeatModeler/
RepeatMasker    4.1.6   http://www.repeatmasker.org/RMDownload.html
coseg   0.2.3   http://www.repeatmasker.org/COSEGDownload.html
RMBlast 2.14.1  http://www.repeatmasker.org/RMBlast.html
HMMER   3.3.2   http://hmmer.org/
TRF     4.09.1  https://github.com/Benson-Genomics-Lab/TRF
RepeatScout     1.0.6   http://www.repeatmasker.org/RepeatScout-1.0.6.tar.gz
RECON   1.08    http://www.repeatmasker.org/RepeatModeler/RECON-1.08.tar.gz
cd-hit  4.8.1   https://github.com/weizhongli/cdhit
genometools     1.6.4   https://github.com/genometools/genometools
LTR_retriever   2.9.0   https://github.com/oushujun/LTR_retriever/
MAFFT   7.471   https://mafft.cbrc.jp/alignment/software/
NINJA   0.97-cluster_only       https://github.com/TravisWheelerLab/NINJA
UCSC utilities\*        v413    http://hgdownload.soe.ucsc.edu/admin/exe/>
\* Selected tools only: faToTwoBit, twoBitInfo, twoBitToFa


By default, RepeatMasker is only packaged with the root (0th) FamDB file. Details about the contents of the files are available from the FamDB repo (https://github.com/Dfam-consortium/FamDB) and the files themselves are available to download from Dfam.org (https://www.dfam.org/releases/Dfam_3.8/families/FamDB/).


COMMANDS:  
  
  Print help message:
    singularity exec RepeatAnalysis_v1.88-rev1.sif RepeatModeler -h
    singularity exec RepeatAnalysis_v1.88-rev1.sif RepeatMasker -h
  
  Basic run examples:
    singularity exec RepeatAnalysis_v1.88-rev1.sif BuildDatabase -name genome1 genome1.fa
    singularity exec RepeatAnalysis_v1.88-rev1.sif RepeatModeler -database genome1 [-LTRStruct] [-threads 16]
    singularity exec RepeatAnalysis_v1.88-rev1.sif RepeatMasker genome1.fa [-lib library.fa] [-pa 8]
    singularity exec RepeatAnalysis_v1.88-rev1.sif runcoseg.pl -d -m 50 -c ALU.cons -s ALU.seqs -i ALU.ins

    # Base repeat library is stored in /opt/RepeatMasker/Libraries/RepeatMasker.lib
    singularity exec RepeatAnalysis_v1.88-rev1.sif cat /opt/RepeatMasker/Libraries/RepeatMasker.lib >> custom_lib.fa
    singularity exec RepeatAnalysis_v1.88-rev1.sif RepeatMasker genome1.fa -lib custom_lib.fa [-pa 8]

